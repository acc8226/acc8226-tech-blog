---
title: 树莓派 4b 入手
date: 2019-10-29 23:04:56
updated: 2022-11-05 15:58:00
categories: [收藏, 我的硬件]
---

不就是一台微型计算机。恰好 10.28 作为 🎂 送给自己. 反正也就我☝️人。

首先得了解内存选择：

1. 1GB 版本 适合无屏幕
2. 2GB 版本 有一定浏览网页需求
3. 4GB 版本 适合科学运算

树莓派 4b 除了主体机器外还需要资源有： 

1. 键鼠
2. 用于连接的显示屏的屏和 html 线
3. 准备的是 5V 3A 的 电源 USB TypeC 的数据线
4. SD 卡 4b 可以抛在容量 8GB 的 SD上，但一般推荐使用容量在 16GB 以上的 Class 10 标准的 Micro SD 卡
5. 外壳

## 系统下载

从理论上来说 64 位的操作系统能够更好地利用 64 位处理器所带来的优势（较新版本的树莓派已采用 64 位处理器）。Raspberry Pi 1、Pi 2 和 Zero 支持 32 位操作系统，而 Zero 2、Pi 3 和 Pi 4 都能够运行 64 位操作系统。

只要符合 64 位，且运存 4 GB 以上，建议无脑选择 64 位系统。

[Operating system images – Raspberry Pi](https://www.raspberrypi.com/software/operating-systems/)

如果官方镜像下载太慢可以试试加速镜像。

[Raspberrypi OS Images 镜像使用帮助 - MirrorZ Help](https://help.mirrors.cernet.edu.cn/raspberry-pi-os-images/)

## 烧录系统到 microSD card

这里推荐官方的烧录工具 [Raspberry Pi Imager](https://downloads.raspberrypi.org/imager/imager_latest.exe)

在烧录未开始的时候，可以提前设置好主机名、用户名和密码、配置 wifi 参数、语言、ssh 等参数。总之非常方便，避免了传统繁琐的通过 conf 文件方式设置。

<!-- more -->

例如默认的主机名为 raspberrypi.local

旧版本的用户名和密码分别是 pi 和 raspberry，这里我重新将密码设置为 1

## 个性化配置

登录后可以进行很多设置

```sh
sudo raspi-config
```

例如可以打开 vnc 功能, 为远程桌面做准备。还可以修改屏幕分辨率等

## 开启其他功能

### ssh 功能

登录树莓派, 这里采用主机名登录(方便好记)

```sh
ssh pi@raspberrypi.local
```

### 远程控制

请使用 VNC Viewe, 这也是树莓派推荐的远程控制软件.各个平台都有

<https://www.realvnc.com/en/connect/download/viewer/>

注：Raspberry Pi Connect 官方提供但是目前在测试阶段，以后再试试

### 第三方监控工具

**Pi Dashboard**是树莓派实验室发布的一个开源的 IoT 设备监控工具，目前主要针对树莓派平台，也尽可能兼容其他类树莓派硬件产品。你只需要在树莓派上安装好 PHP 服务器环境，即可方便的部署一个 Pi 仪表盘，通过炫酷的 WebUI 来监控树莓派的状态！
项目主页：[http://make.quwj.com/project/10](http://make.quwj.com/project/10)
GitHub地址：[https://github.com/spoonysonny/pi-dashboard](https://github.com/spoonysonny/pi-dashboard)

## 技巧

### 如何用一条网线登录树莓派

需要一根网线。

![](/images/收藏-我的硬件/树莓派/wlan.png)

然后也可以 ssh 登录。所以没有屏幕还是尴尬。

```sh
ssh pi@raspberrypi.local
```

### 如何设置静态 IP 地址

sudo nano /etc/dhcpcd.conf

```conf
interface eth0
static ip_address=192.168.1.55/24
static routers=192.168.1.1
static domain_name_servers=192.168.1.1

interface wlan0
static ip_address=192.168.1.66/24
static routers=192.168.1.1
static domain_name_servers=192.168.1.1
```

### 获取树莓派的 IP

可使用网段扫描工具，另外树莓派每次都能动态分配到同一个 IP 地址
动态IP是有租期的。租期到了，再分配到的 IP 地址可能会改变，有时会造成不便
如果能够管理路由器，可以命令路由器记住树莓派网卡的 MAC 硬件地址

## 记录

### 命令行专题

**查看树莓派版信息**
getconf LONG_BIT        # 查看系统位数
uname -a            # kernel 版本
/opt/vc/bin/vcgencmd  version   # firmware版本
strings /boot/start.elf  |  grep VC_BUILD_ID    # firmware版本
cat /proc/version       # 查看版本信息
cat /etc/os-release     # OS版本资讯
cat /etc/issue          # Linux distro 版本
cat /etc/debian_version     # Debian版本编号

打开树莓派功能配置界面

重启命令

```sh
sudo reboot
```

关机命令
与 poweroff 不同的是，此命令会在关机前停止所有CPU功能。执行时，杀死应用进程、执行sync系统调用、文件系统写操作完成后就会停止内核。推荐使用这种方法关机。

```sh
sudo halt
```

更新软件列表

```sh
sudo apt update
```

升级软件包

```sh
sudo apt upgrade
```

树莓派但是默认的权限为‘只读’
所以需要对权限修改才能进行文件的编辑。进入该文件所在的文件夹，然后输入修改该文件的全部权限的命令：sudo chmod 777 ssmtp.conf

### 开启 root 账户

`sudo passwd root`
然后输入两次密码后

解锁账户
`sudo passwd --unlock root`

切换为 root 用户 `su -`

### 树莓派升级固件

先打开终端并输入以下命令：

```sh
sudo apt update

# 这里显示有 363 个软件包可以升级。请执行 apt list --upgradable 来查看它们。
sudo apt full-upgrade

# 下列软件包是自动安装的并且现在不需要了：xxxxx 使用'sudo apt autoremove'来卸载它(它们)。
sudo apt autoremove
```

接着使用以下命令重启即可：

```sh
sudo shutdown - r now
```

## 4b 有效散热方案

官方介绍了一个可以有效散热的“骚操作”——调整树莓派 4 的摆放方向，如下图所示：

![](https://upload-images.jianshu.io/upload_images/1662509-702da69d174be9b2.png?imageMogr2/auto-orient/strip|imageView2/2/w/728/format/webp)

图中的摆放方式是将树莓派 4 直立放置，GPIO 模块位于底部，电源和 HDMI 接口则位于顶部。由于直立放置可改善对流，使周围的空气更快地吸收热量，同时将板的背面从绝热的桌面上提起，大大增加了可用的冷却表面积，因此散热效果自然比平放更好。

## 常用软件下载

### 输入法

```sh
sudo apt-get install fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin
```

### 浏览器

可选的有火狐浏览器, 但是试用过后感觉不如自带的

```sh
sudo apt-get install firefox-esr
```

### JDK

sudo apt install default-jdk