---
title: 05. Kotlin 函数
date:
updated:
categories:
  - 语言
  - Kotlin
tags:
- kotlin
---

## 函数声明

Kotlin 中的函数很灵活，它可以独立于类或接口之外存在，即顶层函数，也就是全局函数，之前接触的main函数就属于顶层函数；也可以存在于别的函数中，即局部函数；还可以存在于类或接口之中，即成员函数。

```kt
fun 函数名(参数列表) : 返回值类型 {
    函数体
    return 返回值
}
```

在参数列表后“: 返回值类型”指明函数的返回值类型，如果函数没有需要返回的数据，则“: 返回值类型”部分可以省略。对应地，如果函数有返回数据，就需要在函数体最后使用return语句将计算的数据返回；如果没有返回数据，则函数体中可以省略 return 语句。

### 函数参数

Kotlin中的函数参数很灵活，具体体现在传递参数有多种形式上。本节介绍几种不同形式参数和调用方式。

### 使用命名参数调用函数

为了提高函数调用的可读性，在函数调用时可以采用命名参数调用。采用命名参数调用函数声明时不需要做额外的工作。

### 参数默认值

在声明函数的时候可以为参数设置一个默认值，当调用函数的时候可以忽略该参数。来看下面的一个示例：

### 可变参数

Kotlin中函数的参数个数可以变化，它可以接受不确定数量的输入类型参数（这些参数具有相同的类型），有点像是传递一个数组。可以通过在参数名前面加vararg关键字的方式来表示这是可变参数。

## 返回特殊数据

在函数体中可以通过return语句返回数据，返回数据类型要与函数声明的数据类型保持一致。本节讨论一些特殊的返回数据，其中包括：无返回数据和永远不会正常返回数据。

### 无返回数据与Unit类型

有的函数只是为了处理某个过程，不需要返回具体数据，例如println函数。此时可以将函数返回类型声明为Unit，相当于Java中的void类型，即表示没有实际意义的数据。

### 永远不会正常返回数据与Nothing类型

Kotlin中提供一种特殊的数据类型Nothing，Nothing只用于函数返回类型声明，不能用于变量声明。Nothing声明的函数永远不会正常的返回，只会抛出异常。

## 表达式函数体

如果在函数体中表达式能够表示成为单个表达式时，那么函数可以采用更加简单的表示方式。

## 局部函数

在本节之前声明的函数都是顶层函数，函数还可声明在类内部和另一个函数的内部，在类内部称为成员函数，在另一个函数内部称为局部函数。

局部函数可以访问所在外部函数中的变量。但是内部函数的作用域在外函数体内，因此直接访问局部函数会发生编译错误。

## 匿名函数

Kotlin中可以使用匿名函数，匿名函数不需要函数名，需要fun关键字声明，还需要有参数列表和返回类型声明，函数体中需要包含必要的return语句。